from pytest import mark

from symmetry import *


# p. 191
segments = [
    (0, 1, 0),
    (1, 0, 1),
    (0, 1, 0, 1, 0),
    (1, 0, 1, 0, 1),
    (1, 1, 1),
    (1, 1),
    (1, 1),
    (1, 0, 1),
    (0, 1, 1, 1, 0),
]


@mark.parametrize(["segment"], [[segment] for segment in segments])
def test_is_symmetrical(segment):
    assert is_symmetrical(segment) == True


# p. 189
sequences = {
    (0, 1, 0, 1, 0, 1, 0): 9,
    (1, 1, 1, 0, 0, 0, 0): 9,
    (0, 0, 1, 1, 1, 0, 0): 7,
    (0, 0, 0, 0, 1, 1, 1): 9,
    (1, 0, 1, 0, 1, 0, 0): 7,

    (0, 0, 1, 0, 1, 0, 1): 7,
    (1, 0, 0, 1, 0, 0, 1): 7,
    (1, 0, 0, 0, 0, 1, 1): 8,
    (0, 0, 0, 1, 1, 1, 0): 7,

    (1, 1, 0, 0, 0, 0, 1): 8,

    (1, 1, 0, 1, 0, 0, 0): 6,
    (1, 0, 1, 0, 0, 0, 1): 6,
    (0, 1, 0, 1, 0, 0, 1): 6,
    (0, 1, 1, 1, 0, 0, 0): 7,

    (1, 0, 1, 0, 0, 1, 0): 6,
    (1, 0, 0, 1, 1, 0, 0): 6,
    (0, 0, 1, 0, 0, 1, 1): 6,
    (0, 0, 1, 1, 0, 0, 1): 6,
    (1, 0, 0, 1, 0, 1, 0): 6,
    (1, 1, 0, 0, 1, 0, 0): 6,
    (0, 1, 0, 0, 0, 1, 1): 6,
    (0, 0, 0, 1, 0, 1, 1): 6,
    (1, 0, 0, 0, 1, 0, 1): 6,
    (0, 0, 0, 1, 1, 0, 1): 6,
    (0, 0, 1, 1, 0, 1, 0): 5,
    (0, 1, 0, 0, 1, 0, 1): 6,
    (0, 1, 0, 1, 1, 0, 0): 5,
    (1, 0, 0, 0, 1, 1, 0): 6,
    (1, 1, 0, 0, 0, 1, 0): 6,
    (1, 0, 1, 1, 0, 0 ,0): 6,
    (1, 0, 1, 1, 0, 0 ,0): 6,
    (0, 1, 1, 0, 0, 0, 1): 6,

    (0, 1, 0, 0, 1, 1, 0): 5,

    (0, 1, 1, 0, 1, 0, 0): 5,
    (0, 1, 1, 0, 0, 1, 0): 5,
    (0, 0, 1, 0 ,1, 1, 0): 5
}

@mark.parametrize(["sequence", "nsymmetries"], sequences.items())
def test_count_symmetries(sequence, nsymmetries):
    assert count_symmetries(sequence) == nsymmetries
